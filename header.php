<?php 

  require 'database.php'; 
   $userid = $_SESSION['id'] ?? null; 

?>
<header style="margin-bottom: 20px;">
    <div class = "Header-container">
        <a href="#" class = "head-logo">
            <div><img width="50px" src="cropped_circle_image.png"></div>
            <div><svg width = "150px"xmlns="http://www.w3.org/2000/svg" viewBox="0 13.600000381469727 230.85000610351562 47.599998474121094" data-asc="0.992" width="230.85000610351562" height="47.599998474121094"><defs/><g fill="#000000"><g transform="translate(0, 0)"><path d="M11.30 42.20Q9.85 42.20 8.63 41.90Q7.40 41.60 6.40 41.10L4.45 43.55Q3.90 44.30 4.18 45.05Q4.45 45.80 5.65 45.80L12.20 45.80Q16.70 45.80 19.50 47.43Q22.30 49.05 22.30 52.90Q22.30 55.05 21.18 56.95Q20.05 58.85 17.65 60.03Q15.25 61.20 11.40 61.20Q6.20 61.20 3.10 59.25Q0 57.30 0 53.30Q0 51.75 0.75 50.52Q1.50 49.30 2.65 48.35Q1.15 47.50 0.77 45.73Q0.40 43.95 1.80 42.20L4.10 39.35Q1.70 36.85 1.70 33.20Q1.70 30.80 2.82 28.75Q3.95 26.70 6.10 25.45Q8.25 24.20 11.30 24.20Q13.30 24.20 15 24.80L24.25 24.80L24.25 27.70L19.35 27.85L19.35 28.15Q20.85 30.35 20.85 33.20Q20.85 35.55 19.73 37.63Q18.60 39.70 16.48 40.95Q14.35 42.20 11.30 42.20M11.30 39Q13.95 39 15.63 37.48Q17.30 35.95 17.30 33.20Q17.30 30.40 15.63 28.90Q13.95 27.40 11.30 27.40Q8.70 27.40 6.97 28.90Q5.25 30.40 5.25 33.20Q5.25 35.95 6.97 37.48Q8.70 39 11.30 39M3.60 53.30Q3.60 55.60 5.75 56.80Q7.90 58 11.40 58Q14.55 58 16.63 56.63Q18.70 55.25 18.70 53.05Q18.70 51.90 18.07 50.98Q17.45 50.05 15.93 49.48Q14.40 48.90 11.65 48.90L6.05 48.90Q3.60 50.55 3.60 53.30ZM31.10 49.60L31.10 46.60L37.70 46.60L37.70 28.80Q37.70 28.40 37.40 28.10Q37.10 27.80 36.70 27.80L31.85 27.80L31.85 24.80L37.95 24.80Q39.40 24.80 40.20 25.55Q41 26.30 41 27.75L41 29.15L41.20 29.15Q41.75 26.80 43.38 25.50Q45 24.20 47.60 24.20L52.60 24.20L52.60 27.90L47.60 27.90Q44.55 27.90 42.88 29.90Q41.20 31.90 41.20 35.25L41.20 46.60L49.05 46.60L49.05 49.60L31.10 49.60ZM71.95 50.20Q68.50 50.20 65.85 48.58Q63.20 46.95 61.68 44.02Q60.15 41.10 60.15 37.15Q60.15 33.20 61.65 30.30Q63.15 27.40 65.83 25.80Q68.50 24.20 72.05 24.20Q75.65 24.20 78.15 25.82Q80.65 27.45 81.95 30.05Q83.25 32.65 83.25 35.65Q83.25 36.15 83.25 36.70Q83.25 37.25 83.20 37.95L63.55 37.95Q63.70 41 64.92 42.98Q66.15 44.95 68.03 45.93Q69.90 46.90 71.95 46.90Q75 46.90 76.68 45.63Q78.35 44.35 79.15 42.15L82.55 42.15Q81.75 45.50 79.13 47.85Q76.50 50.20 71.95 50.20M71.90 27.40Q68.75 27.40 66.38 29.35Q64 31.30 63.60 34.75L79.85 34.75Q79.65 31.25 77.48 29.32Q75.30 27.40 71.90 27.40ZM101.95 50.20Q98.50 50.20 95.85 48.58Q93.20 46.95 91.67 44.02Q90.15 41.10 90.15 37.15Q90.15 33.20 91.65 30.30Q93.15 27.40 95.83 25.80Q98.50 24.20 102.05 24.20Q105.65 24.20 108.15 25.82Q110.65 27.45 111.95 30.05Q113.25 32.65 113.25 35.65Q113.25 36.15 113.25 36.70Q113.25 37.25 113.20 37.95L93.55 37.95Q93.70 41 94.92 42.98Q96.15 44.95 98.03 45.93Q99.90 46.90 101.95 46.90Q105 46.90 106.68 45.63Q108.35 44.35 109.15 42.15L112.55 42.15Q111.75 45.50 109.13 47.85Q106.50 50.20 101.95 50.20M101.90 27.40Q98.75 27.40 96.38 29.35Q94 31.30 93.60 34.75L109.85 34.75Q109.65 31.25 107.48 29.32Q105.30 27.40 101.90 27.40ZM121.40 49.60L121.40 24.80L124.25 24.80L124.70 28.55L124.90 28.55Q125.90 26.80 128.07 25.50Q130.25 24.20 133.15 24.20Q137.70 24.20 139.95 26.88Q142.20 29.55 142.20 34.45L142.20 49.60L138.70 49.60L138.70 34.85Q138.70 31.40 137.15 29.45Q135.60 27.50 132.40 27.50Q129.30 27.50 127.10 29.63Q124.90 31.75 124.90 35.75L124.90 49.60L121.40 49.60ZM161.15 50.20Q157.95 50.20 155.47 48.68Q153 47.15 151.60 44.23Q150.20 41.30 150.20 37.15Q150.20 33 151.60 30.10Q153 27.20 155.47 25.70Q157.95 24.20 161.15 24.20Q164.20 24.20 166.15 25.40Q168.10 26.60 169.05 28.60L169.05 13.60L172.55 13.60L172.55 49.60L169.85 49.60L169.35 45.65L169.05 45.65Q168.10 47.75 166.07 48.98Q164.05 50.20 161.15 50.20M161.40 46.90Q164.75 46.90 166.90 44.50Q169.05 42.10 169.05 37.20Q169.05 32.30 166.90 29.90Q164.75 27.50 161.40 27.50Q158.05 27.50 155.90 29.90Q153.75 32.30 153.75 37.20Q153.75 42.10 155.90 44.50Q158.05 46.90 161.40 46.90ZM191.50 20Q190.25 20 189.32 19.07Q188.40 18.15 188.40 16.90Q188.40 15.60 189.32 14.70Q190.25 13.80 191.50 13.80Q192.80 13.80 193.70 14.70Q194.60 15.60 194.60 16.90Q194.60 18.15 193.70 19.07Q192.80 20 191.50 20M181.95 49.60L181.95 46.60L189.95 46.60L189.95 28.80Q189.95 27.80 188.95 27.80L182.95 27.80L182.95 24.80L189.95 24.80Q193.45 24.80 193.45 28.30L193.45 46.60L201.45 46.60L201.45 49.60L181.95 49.60ZM224.25 49.60Q221 49.60 219.17 48.02Q217.35 46.45 217.35 42.35L217.35 27.80L211.05 27.80L211.05 24.80L214.80 24.80Q217.40 24.80 217.75 22.30L218.35 18.55L220.85 18.55L220.85 24.80L230.85 24.80L230.85 27.80L220.85 27.80L220.85 42.35Q220.85 44.60 221.88 45.50Q222.90 46.40 225.45 46.40L230.85 46.40L230.85 49.60L224.25 49.60Z"/></g></g></svg></div>

        </a>
        <div class = "head-mid-items">
            <!-- nút về trang chủ  -->
            <!-- <a href="index.php" class = "head-return"><svg width = "30px" xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 42 42">
    <path fill="currentColor" d="M2.68 15.726c-.1.039-.16.09-.18.149l.18-.149zm-.18.149v20.627c0 2.509.49 2.998 3 2.998h7c2.51 0 3-.461 3-3v-8h9v8.031c0 2.51.51 2.979 3 2.969c.04.031 7 0 7 0c2.529 0 3-.526 3-2.997V16.495c0-.08-.09-.15-.27-.23L20 1.5L2.68 15.726l-.18.149z"/>
</svg></a> -->
            <!-- nút lịch để tạo sự kiện cho 1 vấn đề nào đó  -->
            <!-- <a href="postcreate.php" class = "head-calendar"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 512 512"><path fill="#000000" d="M256 0Q150 0 75 75T0 256t75 181t181 75t181-75t75-181t-75-181T256 0zm0 469q-88 0-150.5-62.5T43 256t62.5-150.5T256 43t150.5 62.5T469 256t-62.5 150.5T256 469zm107-234h-86v-86q0-21-21-21t-21 21v86h-86q-21 0-21 21t21 21h86v86q0 21 21 21t21-21v-86h86q21 0 21-21t-21-21z"/></svg></a> -->
            <!-- nút truy cập nhóm /group -->
            <!-- <a href="group.php" class = "head-group"><svg width = "30px" xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 1200 1200">
    <path fill="currentColor" d="M596.847 188.488c-103.344 0-187.12 97.81-187.12 218.465c0 83.678 40.296 156.352 99.468 193.047l-68.617 31.801l-182.599 84.688c-17.64 8.821-26.444 23.778-26.444 44.947v201.102c1.451 25.143 16.537 48.577 40.996 48.974h649.62c27.924-2.428 42.05-24.92 42.325-48.974V761.436c0-21.169-8.804-36.126-26.443-44.947l-175.988-84.688l-73.138-34.65c56.744-37.521 95.061-108.624 95.061-190.197c-.001-120.656-83.778-218.466-187.121-218.466zm-301.824 76.824c-44.473 1.689-79.719 20.933-106.497 51.596c-29.62 36.918-44.06 80.75-44.339 124.354c1.819 64.478 30.669 125.518 82.029 157.446L21.163 693.997C7.05 699.289 0 711.636 0 731.041v161.398c1.102 21.405 12.216 39.395 33.055 39.703h136.284V761.436c2.255-45.639 23.687-82.529 62.196-100.531l136.247-64.817c10.584-6.175 20.731-14.568 30.433-25.152c-56.176-86.676-63.977-190.491-27.773-281.801c-23.547-14.411-50.01-23.672-75.419-23.823zm608.586 0c-29.083.609-55.96 11.319-78.039 26.444c35.217 92.137 25.503 196.016-26.482 276.52c11.467 13.23 23.404 23.377 35.753 30.434l130.965 62.195c39.897 21.881 60.47 59.098 60.866 100.532v170.707h140.235c23.063-1.991 32.893-20.387 33.093-39.704V731.042c0-17.641-7.05-29.987-21.163-37.045l-202.431-96.618c52.498-38.708 78.859-96.72 79.369-156.117c-1.396-47.012-15.757-90.664-44.339-124.354c-29.866-32.399-66.91-51.253-107.827-51.596z"/>
</svg></a> -->
            <!-- thanh tìm kiếm -->
             <form action="" method ="GET">
         <div class = "head-search">
        

        <input class = "search-bar" type="text" name = "search" placeholder="nhập vào đâu để tìm kiếm">
            <button type = "submit" style = "background-color: transparent; border: none;">
                <svg  class = "search-svg" width = "30px"xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 16 16">
    <path fill="currentColor" d="m15.7 14.3l-4.2-4.2c-.2-.2-.5-.3-.8-.3c.8-1 1.3-2.4 1.3-3.8c0-3.3-2.7-6-6-6S0 2.7 0 6s2.7 6 6 6c1.4 0 2.8-.5 3.8-1.4c0 .3 0 .6.3.8l4.2 4.2c.2.2.5.3.7.3s.5-.1.7-.3c.4-.3.4-.9 0-1.3zM6 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5s4.5 2 4.5 4.5s-2 4.5-4.5 4.5z"/>
</svg></button>
        
        </div>
</form>
        </div>
        
        <!-- những item bên phải  -->
         <div class = "head-right-item">
            
    
            <!-- user item  -->
            <a href="#" class = "head-user-items">
            
               <?php if(isset($_SESSION['username'])): ?>

    <div class="head-user-avata">
        <div class="user-avata"></div>
    </div>

    <div class="head-user-name">
        <button><?= $_SESSION['username'] ?></button>
        <div class="dropdown-menu">
        <div class="dropdown-menu-item">
        <button onclick="window.location.href = 'logout.php'">đăng xuất</button>
        <?php if($userid == null): ?>
            <div class="login-button"><a href="login.html">Đăng Nhập</a></div>
    <div class="signup-button"><a href="signup.html">Đăng kí</a></div>
    <?php else: $get_user = "SELECT * FROM users WHERE id = $userid";
        $result = $conn->query($get_user);
        $user = $result->fetch_assoc();?>
        <?php if($user['is_admin'] == '1'): 
            ?>


        <button style="background-color:red;" onclick="window.location.href = 'admin.php'">quản lí</button>
       
            <?php endif ;?>
            <?php endif;?>
            </div>
        </div>
    </div>

    <?php else: ?>

    <div class="login-button"><a href="login.html">Đăng Nhập</a></div>
    <div class="signup-button"><a href="signup.html">Đăng kí</a></div>

    <?php endif; ?>
                

            </a>
            
         </div>
        
    </div>    
    
</header>